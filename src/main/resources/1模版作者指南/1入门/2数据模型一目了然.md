# 数据模型一目了然

如您所见，数据模型基本上是一棵树。这棵树可以任意复杂和深入，例如：

```
（root）
  |
  +  - animals
  | |
  | +  - mouse
  | | |
  | | +  -  size =“小”
  | | |
  | | +  - price= 50
  | |
  | +  - elephant
  | | |
  | | +  -  size =“large”
  | | |
  | | +  - price= 5000
  | |
  | +  -  python
  | |
  | +  -  size =“medium”
  | |
  | +  - price= 4999
  |
  +  -  message =“It is a test”
  |
  +  -  misc
      |
      +  -  foo =“Something”
```

那像目录的变量（root， `animals`，`mouse`， `elephant`，`python`， `misc`）被称为**哈希值**。哈希存储其他变量（所谓的*子变量* subvariable）通过查找名称（例如，“动物”，“鼠标”或“价格”）。

存储单个值（变量`size`，`price`， `message`和`foo`）被称为 **标量**。

如果要在模板中使用子变量，请从根指定其路径，并使用点分隔步骤。要访问 `price`a `mouse`，你从root开始进入`animals`， `mouse`然后进入`price`。所以你写`animals.mouse.price`。

另一种重要的变量是**序列**。它们存储像哈希这样的子变量，但是这里的子变量没有名称，它们只是列表中的项目。例如，在该数据模型，`animals`并且 `misc.fruits`是这样的序列：

```
（根）
  |
  +  - 动物
  | |
  | +  - （第1）
  | | |
  | | +  -  name =“mouse”
  | | |
  | | +  -  size =“小”
  | | |
  | | +  - 价格= 50
  | |
  | +  - （第二）
  | | |
  | | +  -  name =“elephant”
  | | |
  | | +  -  size =“大”
  | | |
  | | +  - 价格= 5000
  | |
  | +  - （第3）
  | |
  | +  -  name =“python”
  | |
  | +  -  size =“medium”
  | |
  | +  - 价格= 4999
  |
  +  -  misc
      |
      +  - 水果
          |
          +  - （1st）=“orange”
          |
          +  - （2nd）=“banana”
```

要访问序列的子变量，请使用方括号中的数字索引。索引从0开始（程序员传统以0开头），因此第1项的索引为0，第2项的索引为1，依此类推。所以要得到你写的第一只动物的名字`animals[0].name`。获取你写的`misc.fruits`（字符串 `"banana"`）中 的第二项`misc.fruits[1]`。（在实践中，您通常只是按顺序浏览序列，而不是关心索引，但稍后会[显示](https://freemarker.apache.org/docs/dgui_quickstart_template.html#topic.tutorial.list)。）

标量可以进一步分为以下几类：

- 字符串：文本，即上面的任意字符序列，如“m”，“o”，“u”，“s”，“e”。例如 `name`-s和`size`-s是上面的字符串。
- 数字：这是一个数值，就像`price`上面的-s 一样 。字符串 `"50"`和数字`50`是FreeMarker中两个完全不同的东西。前者只是两个字符的序列（碰巧可以作为人类的数字读取），而后者是一个可以在算术计算中使用的数值。
- 类似日期：日期时间（存储日期与当天时间）或日期（无时间）或时间（时间，无日期）。
- Boolean：真/假（是/否，开/关等）。就像动物可以有一个`protected`子变量，如果动物受到保护，它会存储。

摘要：

- 数据模型可以看作树。
- 标量存储单个值。值可以是字符串或数字，也可以是日期时间/日期/时间或布尔值。
- 哈希是存储其他变量并将其与唯一查找名称相关联的容器。
- 序列是以有序序列存储其他变量的容器。存储的变量可以通过它们的数字索引从0开始检索。

注意：

还有其他更高级的值类型，我们在这里没有介绍，例如方法和指令。